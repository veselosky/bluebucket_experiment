{
    "$schema": "http://json-schema.org/schema#",
    "definitions": {
        "copyright": {
            "type": "object",
            "properties": {
                "holder": {
                    "type": "object",
                    "description": "Person or organization who owns the copyright",
                    "anyOf": [
                        {"$ref": "#/definitions/person"},
                        {"$ref": "#/definitions/organization"}
                    ]
                },
                "notice": {"type": "string"},
                "year": {"type": "string"}
            }
        },
        "link": {
            "description": "Link as defined by RFC 5988, extended for S3",
            "type": "object",
            "required": ["href"],
            "properties": {
                "bucket": {"type": "string"},
                "key": {"type": "string"},
                "href": {"type": "string", "format": "uri"},
                "hreflang": {"type": "string"},
                "rel": {"type": "string"},
                "rev": {"type": "string"},
                "title": {"type": "string"},
                "type": {"type": "string"}
            }
        },
        "linklist": {
            "description": "List of links is so common, we define separately.",
            "type": "array",
            "items": {"$ref": "#/definitions/link"}
        },
        "person": {
            "type": "object",
            "required": ["name"],
            "properties": {
                "description": {"type": "string", "description": "Bio or about me."},
                "email": {"type": "string", "format": "email"},
                "links": {"$ref": "#/definitions/linklist"},
                "name": {"type": "string", "description": "for display"},
                "role": {"type": "string"},
                "sort": {"type": "string", "description": "for lexical sort"},
                "thumbnail": {"$ref": "#/definitions/link"}
            }
        },
        "organization": {
            "type": "object",
            "required": ["name"],
            "properties": {
                "email": {"type": "string", "format": "email"},
                "links": {"$ref": "#/definitions/linklist"},
                "name": {"type": "string", "description": "for display"},
                "role": {"type": "string"},
                "sort": {"type": "string", "description": "for lexical sort"}
            }
        },
        "Item": {
            "type": "object",
            "required": [
                "contenttype",
                "copyright",
                "guid",
                "itemtype"
            ],
            "properties": {
                "attributions": {
                    "description": "Byline or author/contributor credits",
                    "type": "array",
                    "items": {
                        "anyOf": [
                            {"$ref": "#/definitions/person"},
                            {"$ref": "#/definitions/organization"}
                        ]
                    }
                },
                "categories": {
                    "type": "array",
                    "items": { "type": "string" }
                },
                "contenttype": {"type": "string"},
                "copyright": {"$ref": "#/definitions/copyright"},
                "created": {"type": "string", "format": "date-time"},
                "description": {"type": "string"},
                "guid": {"type": "string", "format": "uri"},
                "itemtype": {"type": "string"},
                "links": {"$ref": "#/definitions/linklist"},
                "published": {"type": "string", "format": "date-time"},
                "slug": {"type": "string"},
                "source": {"$ref": "#/definitions/link"},
                "thumbnail": {"$ref": "#/definitions/link"},
                "title": {"type": "string"},
                "updated": {"type": "string", "format": "date-time"}
            }
        },
        "Page": {
            "description": "Web page",
            "properties": {
                "content": {"type": "string"}
            }
        },
        "CollectionPage": {
            "type": "object",
            "properties": {
                "queries": {"type": "array", "items": {"type": "string"}}
            }
        }
    },
    "type": "object",
    "required": ["Item"],
    "properties": {
        "Item": {"$ref": "#/definitions/Item"},
        "Page": {"$ref": "#/definitions/Page"},
        "CollectionPage": {"$ref": "#/definitions/CollectionPage"}
    }
}
